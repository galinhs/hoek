(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["product"],{7780:function(t,e,r){},"99af":function(t,e,r){"use strict";var n=r("23e7"),a=r("d039"),o=r("e8b5"),i=r("861d"),s=r("7b0b"),c=r("50c4"),u=r("8418"),l=r("65f0"),d=r("1dde"),m=r("b622"),p=r("2d00"),f=m("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",g=p>=51||!a((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),v=d("concat"),x=function(t){if(!i(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)},y=!g||!v;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,r,n,a,o,i=s(this),d=l(i,0),m=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?i:arguments[e],x(o)){if(a=c(o.length),m+a>h)throw TypeError(b);for(r=0;r<a;r++,m++)r in o&&u(d,m,o[r])}else{if(m>=h)throw TypeError(b);u(d,m++,o)}return d.length=m,d}})},b0c0:function(t,e,r){var n=r("83ab"),a=r("9bf2").f,o=Function.prototype,i=o.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in o)&&a(o,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},d2f1:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{id:"product"}},[r("b-overlay",{attrs:{show:!t.sell},scopedSlots:t._u([{key:"overlay",fn:function(){return[r("h1",[t._v("已下架")])]},proxy:!0}])},[r("b-row",{staticClass:"d-flex justify-content-center"},[r("b-col",{staticClass:"mt-3",attrs:{cols:"10",md:"7"}},[r("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel",interval:3e3,controls:"",fade:"",background:"#fff"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.images,(function(t,e){return r("b-carousel-slide",{key:e,staticClass:"w-100",attrs:{"img-src":t}})})),1)],1),r("b-col",{staticClass:"d-flex justify-content-md-center align-items-md-center mt-3",attrs:{cols:"12",md:"5"}},[r("b-row",{staticClass:"d-flex justify-content-md-center ml-3 mt-4"},[r("b-col",{staticClass:"d-flex justify-content-md-center flex-column",attrs:{cols:"12"}},[r("h2",[t._v(t._s(t.name))]),r("h4",{staticClass:"ml-3"},[t._v("$"+t._s(t.price))]),r("b-form-spinbutton",{attrs:{type:"number",state:t.amountstate,min:"1",max:"99"},model:{value:t.amount,callback:function(e){t.amount=t._n(e)},expression:"amount"}}),r("b-btn",{staticClass:"mt-3",attrs:{variant:"dark"},on:{click:t.addcart}},[t._v("加入購物車")])],1)],1)],1)],1),r("hr",{staticClass:"my-3"}),r("b-row",{staticClass:"d-flex justify-content-md-center mt-4 mx-3"},[r("b-col",{attrs:{cols:"12",md:"7"}},[r("h4",{staticClass:"mt-5 mb-3"},[t._v("內容簡介")]),r("p",[t._v(t._s(t.description))])])],1),r("b-row",{staticClass:"d-flex justify-content-md-center mx-3"},[r("b-col",{attrs:{cols:"12",md:"7"}},[r("h4",{staticClass:"my-3"},[t._v("作者簡介")]),r("p",[t._v(t._s(t.authorDescription))])])],1)],1)],1)},a=[],o=r("1da1"),i=(r("96cf"),r("b0c0"),r("a4d3"),r("e01a"),r("d81d"),r("99af"),{name:"Product",data:function(){return{name:"",price:"",author:"",description:"",authorDescription:"",category:"",images:[],sell:!0,amount:0,links:[{text:"首頁",disabled:!1,to:"/"},{text:"商店",disabled:!1,to:"/shop",exact:!0},{text:"category",disabled:!1,to:"/:category",exact:!0},{text:"",disabled:!0}],slide:0,sliding:null}},computed:{amountstate:function(){return 0===this.amount?null:this.amount>0}},methods:{setRoute:function(){var t=this.data;this.links[1].text=t.navigation,this.links[1].to={name:"Navigation",params:{navigation:t.navigationRoute}},this.links[2].text=this.product.category,this.links[2].to={name:"Category",params:{navigation:t.navigationRoute,category:t.categoryRoute}},this.links[3].text=this.product.productName},onSlideStart:function(t){this.sliding=!0},onSlideEnd:function(t){this.sliding=!1},addcart:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.amountstate){e.next=3;break}return t.$swal({icon:"error",title:"請輸入正確數量"}),e.abrupt("return");case 3:if(0!==t.$store.state.jwt.token.length){e.next=6;break}return t.$swal({icon:"error",title:"請先登入"}),e.abrupt("return");case 6:return e.prev=6,e.next=9,t.axios.post("/users/cart",{product:t.$route.params.id,amount:t.amount},{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 9:t.$swal({icon:"success",title:"已加入購物車"}),t.$store.commit("addCart",{productName:t.name,productId:t.$route.params.id,price:t.price,image:t.image,amount:t.amount}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](6),t.$swal({icon:"error",title:"加入購物車失敗"});case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))()}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.get("/products/"+t.$route.params.id);case 3:r=e.sent,n=r.data,t.name=n.result.name,t.price=n.result.price,t.author=n.result.author,t.description=n.result.description,t.authorDescription=n.result.authorDescription,t.images=n.result.image.map((function(t){return"".concat("https://hoekgallery.herokuapp.com","/files/").concat(t)})),t.category=n.result.category,t.sell=n.result.sell,document.title="".concat(t.name),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](0),console.log(e.t0),t.$router.push("/");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))()}}),s=i,c=(r("f1a6"),r("2877")),u=Object(c["a"])(s,n,a,!1,null,null,null);e["default"]=u.exports},d81d:function(t,e,r){"use strict";var n=r("23e7"),a=r("b727").map,o=r("1dde"),i=o("map");n({target:"Array",proto:!0,forced:!i},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,r){"use strict";var n=r("23e7"),a=r("83ab"),o=r("da84"),i=r("5135"),s=r("861d"),c=r("9bf2").f,u=r("e893"),l=o.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof m?new l(t):void 0===t?l():l(t);return""===t&&(d[e]=!0),e};u(m,l);var p=m.prototype=l.prototype;p.constructor=m;var f=p.toString,h="Symbol(test)"==String(l("test")),b=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=f.call(t);if(i(d,t))return"";var r=h?e.slice(7,-1):e.replace(b,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:m})}},f1a6:function(t,e,r){"use strict";r("7780")}}]);
//# sourceMappingURL=product.50cf1dc4.js.map