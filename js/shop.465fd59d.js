(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop"],{"0fa5":function(t,r,e){"use strict";e.r(r);var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-container",{attrs:{id:"shop"}},[e("b-row",{staticClass:"mt-5"},[e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"12",md:"3"}},[e("b-list-group",{attrs:{variant:"dark"}},[e("b-list-group-item",{attrs:{active:""===t.category,href:"#"},on:{click:function(r){t.category=""}}},[t._v("全部商品")]),e("b-list-group-item",{attrs:{active:"攝影書"===t.category,href:"#"},on:{click:function(r){t.category="攝影書"}}},[t._v("攝影書")]),e("b-list-group-item",{attrs:{active:"雜誌"===t.category,href:"#"},on:{click:function(r){t.category="雜誌"}}},[t._v("雜誌")]),e("b-list-group-item",{attrs:{active:"畫集"===t.category,href:"#"},on:{click:function(r){t.category="畫集"}}},[t._v("畫集")]),e("b-list-group-item",{attrs:{active:"其他"===t.category,href:"#"},on:{click:function(r){t.category="其他"}}},[t._v("其他")])],1)],1),t.isLoading?e("b-col",{attrs:{cols:"12",md:"9"}},[e("b-row",t._l(t.products,(function(t){return e("b-col",{attrs:{cols:"6",md:"4"}},[e("b-card",[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-skeleton-img")],1)],1),e("b-row",{staticClass:"text-center"},[e("b-col",{staticClass:"mt-3",attrs:{cols:"12"}},[e("b-skeleton",{staticClass:"ml-3",attrs:{animation:"fade",width:"85%"}}),e("b-skeleton",{staticClass:"ml-5",attrs:{animation:"fade",width:"55%"}}),e("b-skeleton",{staticClass:"mt-2 ml-5",attrs:{animation:"fade",width:"40%"}})],1)],1)],1)],1)})),1)],1):t._e(),t.isLoading?t._e():e("b-col",{attrs:{cols:"12",md:"9"}},[e("b-row",t._l(t.filtered,(function(t){return e("b-col",{key:t._id,attrs:{cols:"6",md:"4"}},[e("router-link",{attrs:{to:"/product/"+t._id}},[e("ProductCard",{staticClass:"border-0",attrs:{product:t}}),e("b-btn",{attrs:{variant:"transparent",to:"/product/"+t._id}},[e("b-icon-cart-fill",{attrs:{product:t}})],1)],1)],1)})),1)],1)],1)],1)},a=[],c=e("1da1"),o=(e("96cf"),e("4de4"),e("caad"),e("2532"),e("d81d"),e("99af"),function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-card",{staticClass:"product-card mx-auto d-flex align-items-center"},[e("div",{staticClass:"card-img"},[e("img",{attrs:{src:t.product.image[0]}})]),e("b-card-body",{staticClass:"p-1",attrs:{title:t.product.name,"sub-title":t.product.author}}),e("b-card-text",[t._v(t._s("$"+t.product.price))])],1)}),i=[],s={name:"ProductCard",props:{product:{type:Object,required:!0}}},u=s,d=(e("64b4"),e("2877")),l=Object(d["a"])(u,o,i,!1,null,null,null),f=l.exports,p={name:"Shop",data:function(){return{products:[],category:"",isLoading:!0}},components:{ProductCard:f},computed:{filtered:function(){var t=this;return this.products.filter((function(r){return r.category.includes(t.category)}))}},methods:{getProducts:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var e,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.axios.get("/products");case 3:e=r.sent,n=e.data,t.products=n.result.map((function(t){return t.image&&(t.image=t.image.map((function(t){return"".concat("https://hoekgallery.herokuapp.com","/files/").concat(t)}))),t})),t.isLoading=!1,r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),t.$swal({icon:"error",title:"錯誤",text:"取得商品失敗"});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.getProducts();case 1:case"end":return r.stop()}}),r)})))()}},b=p,m=(e("ace4"),Object(d["a"])(b,n,a,!1,null,null,null));r["default"]=m.exports},1985:function(t,r,e){},2532:function(t,r,e){"use strict";var n=e("23e7"),a=e("5a34"),c=e("1d80"),o=e("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(c(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,r,e){var n=e("861d"),a=e("c6b6"),c=e("b622"),o=c("match");t.exports=function(t){var r;return n(t)&&(void 0!==(r=t[o])?!!r:"RegExp"==a(t))}},"5a34":function(t,r,e){var n=e("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"64b4":function(t,r,e){"use strict";e("1985")},"70ac":function(t,r,e){},"99af":function(t,r,e){"use strict";var n=e("23e7"),a=e("d039"),c=e("e8b5"),o=e("861d"),i=e("7b0b"),s=e("50c4"),u=e("8418"),d=e("65f0"),l=e("1dde"),f=e("b622"),p=e("2d00"),b=f("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",h=p>=51||!a((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),v=l("concat"),y=function(t){if(!o(t))return!1;var r=t[b];return void 0!==r?!!r:c(t)},w=!h||!v;n({target:"Array",proto:!0,forced:w},{concat:function(t){var r,e,n,a,c,o=i(this),l=d(o,0),f=0;for(r=-1,n=arguments.length;r<n;r++)if(c=-1===r?o:arguments[r],y(c)){if(a=s(c.length),f+a>m)throw TypeError(g);for(e=0;e<a;e++,f++)e in c&&u(l,f,c[e])}else{if(f>=m)throw TypeError(g);u(l,f++,c)}return l.length=f,l}})},ab13:function(t,r,e){var n=e("b622"),a=n("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[a]=!1,"/./"[t](r)}catch(n){}}return!1}},ace4:function(t,r,e){"use strict";e("70ac")},caad:function(t,r,e){"use strict";var n=e("23e7"),a=e("4d64").includes,c=e("44d2");n({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),c("includes")},d81d:function(t,r,e){"use strict";var n=e("23e7"),a=e("b727").map,c=e("1dde"),o=c("map");n({target:"Array",proto:!0,forced:!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=shop.465fd59d.js.map